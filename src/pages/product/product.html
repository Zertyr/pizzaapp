<!--
  Generated template for the ProductPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Product</ion-title>
  </ion-navbar>
  <ion-toolbar no-border-top>
      <ion-segment [(ngModel)]="carte">
        <ion-segment-button value="Pizza">
          Pizza
        </ion-segment-button>
        <ion-segment-button value="Categories">
          cat√©gories
        </ion-segment-button>
        <ion-segment-button value="Menus">
            Menus
          </ion-segment-button>
      </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content padding>
  <div *ngIf="lastname && firstname; else elseBlock">
      <p>Bonjour {{ lastname | allLetterUpperCase }} {{ firstname | firstLetterUpperCase }}</p>
  </div>  
  <div [ngSwitch]="carte">
      <ion-list *ngSwitchCase="'Pizza'">
          <ion-item *ngFor="let p of products">
              {{p.name}}
              <p>
                  {{p.categorie.name}}
              </p>
              <p>
                  {{p.menu.name}}
              </p>
          </ion-item>
      </ion-list>
  
      <ion-list *ngSwitchCase="'Categories'">
          <ion-item *ngFor="let c of categories">
              {{c.name}}
              <p *ngFor="let p of products">
                  <span *ngIf="c.id == p.categorie_id">
                  {{p.name}}
                  </span>
                </p>
          </ion-item>
      </ion-list>
      <ion-list *ngSwitchCase="'Menus'">
          <ion-item *ngFor="let m of menus">
              {{m.name}}
              <p *ngFor="let p of products">
                  <span *ngIf="m.id == p.menu_id">
                  {{p.name}}
                  </span>
                </p>
          </ion-item>
      </ion-list>
  </div>

      
      
      <!-- <p *ngFor="let c of categories">
          <span *ngIf="c.id == p.categorie_id">
          {{c.name}}
          </span>
        </p>
      <p *ngFor="let m of menus">
          <span *ngIf="p.menu_id == m.id">
          {{m.name}}
          </span>
        </p> -->

<ng-template #elseBlock> <p>Welcome anonyme</p> </ng-template>

</ion-content>
